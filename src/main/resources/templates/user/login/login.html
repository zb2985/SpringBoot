<!DOCTYPE html>
<html lang="kr"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5 ">
<link rel='stylesheet' href='/webjars/bootstrap/4.5.0/css/bootstrap.min.css'>

<script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
<body>
<div class="navbar navbar-dark bg-dark shadow-sm mb-3">

    <div class="container d-flex justify-content-between" >




        <a href="" class="navbar-brand d-flex align-items-center">
            <strong>메인</strong>

        </a>

        <a href="/Infolist" class="navbar-brand d-flex align-items-center">
            <strong>자유게시판</strong>
        </a>
        <a href="/list" class="navbar-brand d-flex align-items-center">
            <strong>Q&A게시판</strong>
        </a>
        <a href="/userlist" class="navbar-brand d-flex align-items-center">
            <strong>회원목록</strong>
        </a>
        <a href="/culture" class="navbar-brand d-flex align-items-center">
            <strong>문화관</strong>
        </a>

        <a th:href="@{/chatting}">실시간채팅방</a>
        <a th:href="@{/travel}">여행정보</a>
        <a th:href="@{/book}">교재</a>



        </li>

    </div>
</div>
<div class="container">

    <h1>로그인</h1>
    <div th:if="${msg}">
        <p th:text="비밀번호가 아이디가 잘못되었습니다." class="alert alert-danger"></p>
    </div>
    <form th:action="@{/login_proc}" method="post">
        <div class="form-group">
            <label th:for="username">아이디</label>
            <input type="text" name="username" class="form-control" placeholder="아이디 입력해주세요">
        </div>
        <div class="form-group">
            <label th:for="password">비밀번호</label>
            <input type="password" class="form-control" name="password" placeholder="비밀번호">
        </div>
        <a href="/find_id_form" class="navbar-brand d-flex align-items-center">
            <strong>아이디찾기</strong>
        </a>
        <a href="/member/findpw" class="navbar-brand d-flex align-items-center">
            <strong>비밀번호찾기</strong>
        </a>
        <div th:if="${session.currentUser ne null}">
            <h3>이 부분은 로그인한 사용자한테만 보임</h3>
            <pre th:text="${session.currentUser}"></pre>
            <a th:href="${'/naver/getProfile?accessToken=' + session.currentAT}">Get User's Profile</a>
            <a th:href="${'/naver/refreshToken?refreshToken=' + session.currentRT}">Refresh Token</a>
            <a th:href="${'/naver/deleteToken?accessToken=' + session.currentAT}">Delete Token</a>
            <a href="/naver/invalidate">로그아웃 (Invalidate Session)</a>
        </div>
        <!-- 네이버아이디로로그인 버튼 노출 영역 -->
        <div id="naver_id_login"></div>

        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
    <br/>

</div>

<!-- //네이버아이디로로그인 버튼 노출 영역 -->
<script type="text/javascript">
    var naver_id_login = new naver_id_login("3_gqaAGqIO5b4lLHXhrD", "http://localhost:8080/user/login/callback");
    var state = naver_id_login.getUniqState();
    naver_id_login.setButton("white", 2,40);
    naver_id_login.setDomain("http://localhost:8080/user/login/login");
    naver_id_login.setState(state);

    naver_id_login.init_naver_id_login();

</script>


</body>
</html>