<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="@{'게시판 - ' + ${Infopost.title}}"></title>
    <link rel='stylesheet' href='/webjars/bootstrap/4.5.0/css/bootstrap.min.css'>
</head>
<body>
<header th:insert="common/header.html"></header>
<div class="container">
    <div class="card">
        <div class="card-body">
            <h5 class="card-title" th:text="@{${Infopost.title} + ' - ' + ${Infopost.author}}"></h5>
            <p class="card-text">
                <small class="text-muted" th:text="${#temporals.format(Infopost.createdDate, 'yyyy-MM-dd HH:mm')}"></small>
            </p>
            <p class="card-text" th:text="${Infopost.content}"></p>

        </div>
    </div>
    <div class="row mt-3">
        <div class="col-auto mr-auto"></div>
        <div class="col-auto">
            <a class="btn btn-info" th:href="@{'/Infopost/edit/' + ${Infopost.id}}" role="button">수정</a>
        </div>
        <div class="col-auto">
            <form id="delete-form" th:action="@{'/Infopost/' + ${Infopost.id}}" method="post">
                <input type="hidden" name="_method" value="delete"/>
                <button id="delete-btn" type="submit" class="btn btn-danger">삭제</button>
            </form>
        </div>
    </div>



</div>

<div class="container" >

    <form>
        <div class="input-group">
            <input type="text"  name="replyer" id="replyer" th:value="${Infopost.author}">
            <input type="hidden" name="bno" id="bno" th:value="${Infopost.id}"/>
            <input type="text" class="form-control" id="replytext" name="replytext" placeholder="내용을 입력하세요.">
            <input class="btn btn-default" type="button" name="insert" id="insert" value="입력"></input>
        </div>
    </form>
</div>

</div>
<script src="../js/commentS.js"></script>
<script src="../js/jquery-3.3.1.min.js"></script>

<script type="text/javascript">
    var bno = $("input[name=bno]").val(); //게시글 번호
    var replyer = $("input[name=replyer]").val();


    $(function() {
        $("#insert").click(function () { //댓글 등록 버튼 클릭시
            var textre = $("#replytext").val();
            $.ajax({
                url: "/post/" + bno + "/replies",
                type: "GET",
                data: {
                    bno: bno
                    , replyer: replyer,
                    replytext: textre
                },
                dataType: "json",
                success: function (data) {
                    console.log(data);

                }
                , error: function (e) {
                    console.log(e);

                }
            });
        });
    });


    <script src="/webjars/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</body>
</html>